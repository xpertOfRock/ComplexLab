<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head th:fragment="head(title)">
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title th:text="${title}">ComplexLab</title>
    <link rel="stylesheet" th:href="@{/css/app.css}"/>
</head>
<body>
<div class="container">
    <div class="nav" th:fragment="nav">
    <div class="actions">
        <a th:href="@{/}"><strong>ComplexLab</strong></a>
        <a class="badge" th:href="@{/actuator/health}" target="_blank">health</a>

        <a class="btn secondary"
            th:if="${#authentication.authenticated}"
            th:href="@{/books/new}">
                Add book
        </a>
</div>

    <div class="actions">
        <span class="muted"
              th:if="${#authentication != null and #authentication.authenticated}"
              th:text="${#authentication.name}">
        </span>

        <a class="btn secondary"
           th:if="${#authentication == null or !#authentication.authenticated}"
           th:href="@{/auth/login}">
            Login
        </a>

        <a class="btn secondary"
           th:if="${#authentication == null or !#authentication.authenticated}"
           th:href="@{/auth/register}">
            Register
        </a>

        <form th:if="${#authentication != null and #authentication.authenticated}"
              th:action="@{/logout}"
              method="post">
            <button class="btn secondary" type="submit">Logout</button>
        </form>
    </div>
</div>
</div>
</body>
</html>
